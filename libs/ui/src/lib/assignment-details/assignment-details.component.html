<mat-card>
  <ng-template #loading>
    <mat-progress-bar mode="query"></mat-progress-bar>
  </ng-template>
  <ng-container *ngIf="assignment$ | async; else loading; let assignment">
    <mat-card-title>
      {{ assignment.title }}
    </mat-card-title>
    <mat-card-subtitle>
      {{ assignment | assignmentDate }}
    </mat-card-subtitle>
    <mat-card-subtitle>
      <mat-chip-list>
        <mat-chip color="warn" selected>{{ assignment.type.name }}</mat-chip>
        <mat-chip
          color="accent"
          selected
          [routerLink]="['/', 'courses', 'details']"
          [queryParams]="{ id: assignment.course._id }"
          >{{ assignment.course.subject.name }}
        </mat-chip>
        <mat-chip
          color="primary"
          selected
          [routerLink]="['/', 'class-groups', 'details']"
          [queryParams]="{ id: assignment.group._id }"
          >{{ assignment.group.name }}
        </mat-chip>
        <mat-chip
          [routerLink]="['/', 'teachers', 'details']"
          [queryParams]="{ id: assignment.teacher?._id }"
        >
          <img
            matChipAvatar
            [src]="assignment.createdBy?.profileURL"
            [alt]="assignment.createdBy?.displayName"
          />
          {{ assignment.createdBy?.displayName }}
        </mat-chip>
      </mat-chip-list>
    </mat-card-subtitle>
    <mat-card-content>
      <h6>{{ 'Directions' | translate }}</h6>
      <div [innerHtml]="assignment.description"></div>
    </mat-card-content>
  </ng-container>
</mat-card>
